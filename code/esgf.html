<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恶俗古风生成器 web 版 - 一亩地</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/hui.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/csshake-hard.min.css" type="text/css" />

    <link rel="canonical" href="//huiyadanli.github.io/code/esgf.html" />
    
    <script type="text/javascript">window.onload=function(){};</script>
    <!--[if lt IE 9]>
        <script src="/theme/js/html5shiv.js"></script>
        <script src="/theme/js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body> 
    <div id="body-header">
<div class="navbar navbar-default navbar-fixed-top">
<div class="col-md-8 col-md-offset-2">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="//huiyadanli.github.io">
            <i class="fa fa-home"></i>一亩地
        </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
            <li><a href="/about.html" title="about me">
                <i class="fa fa-exclamation-circle"></i>关于</a>
            </li>
            <li><a href="/projects.html" title="projects">
                <i class="fa fa-rocket"></i>作品</a>
            </li>
            <li><a href="/tag/" title="tags">
                <i class="fa fa-tags"></i>标签</a>
            </li>
            <li><a href="/links.html" title="links">
                <i class="fa fa-link"></i>友链</a>
            </li>
        <!-- category dropdown list -->
        <li class="dropdown">
           <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <i class="fa fa-folder-open"></i>分类<b class="caret"></b>
           </a>
           <ul class="dropdown-menu">
               <li><a href="//huiyadanli.github.io/code/index.html">
                      <i class="fa fa-code"></i>代码
                      (3)</a></li>
               <li><a href="//huiyadanli.github.io/life/index.html">
                      <i class="fa fa-coffee"></i>日常
                      (2)</a></li>
               <li><a href="//huiyadanli.github.io/soft/index.html">
                      <i class="fa fa-briefcase"></i>软件
                      (2)</a></li>
           </ul>
        </li>
        <!--  self defined dropdown list -->
        <li class="dropdown">
           <a href="#" class="dropdown-toggle" data-toggle="dropdown">
               <i class="fa fa-archive"></i>存档<b class="caret"></b>
           </a>
           <ul class="dropdown-menu">
               <li><a href="/archives.html" title="archives order by publish time">
                 <i class="fa fa-calendar"></i>存档 (按发布时间)</a>
               </li>
               <li><a href="/archives_updatedate.html" title="archives order by modify time">
                 <i class="fa fa-pencil"></i>存档 (按修改时间)</a>
               </li>
           </ul>
        </li>
        </ul>
        
        <!-- right nav bar -->
        <ul class="nav navbar-nav navbar-right">
        <!-- google custom search -->
        <li>
        <div id="niu2-cse-wrapper">
            <div id="niu2-cse-header-box" class="navbar-form">
                <form action="//cse.google.com/cse">
                    <input type="hidden" name="cx" value="014818977980224173519:_6-um3fgsq0" />
                    <input type="hidden" name="ie" value="UTF-8" />
                    <div class="form-group">
                        <input id="niu2-cse-search-input" class="niu2-cse-header form-control" 
                            type="text" name="q" 
                            placeholder="按回车开始搜索 ..."/>
                    </div>
                </form>
           </div>
           <div id="niu2-cse-ctrl-box" class="navbar-nav">
            <i id="niu2-cse-search-image" class="fa fa-search navbar-nav"></i><span id="niu2-cse-search-text"></span>
           </div>
       </div>
       </li>
       </ul>
    </nav>
</div>
</div>    </div>
    
    <div id="body-content">
<div class="col-md-8 col-md-offset-2">
    <h1 id="content-heading">恶俗古风生成器 web 版</h1>
</div>
<div id="niu2-left-container" class="col-md-6 col-md-offset-2 with-right-border">
    <div id="niu2-main-content">
        <p>无意间看到一个生成古风句子东东，感觉生成的东西挺好玩的，于是乎我也撸了一个。
</p>
<p>我所看到的加强版本 <a href="https://livc95.cn/archives/970">https://livc95.cn/archives/970</a></p>
<p>跟着撸了一个：<a href="http://huiyadanli.github.io/i/es.html">传送门</a></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="codehilite"><pre>var two_chars_words = "朱砂 天下 杀伐 人家 韶华 风华 繁华 血染 墨染 白衣 素衣 嫁衣 倾城 孤城 空城 旧城 旧人 伊人 心疼 春风 古琴 无情 迷离 奈何 断弦 焚尽 散乱 陌路 乱世 笑靥 浅笑 明眸 轻叹 烟火 一生 三生 浮生 桃花 梨花 落花 烟花 离殇 情殇 爱殇 剑殇 灼伤 仓皇 匆忙 陌上 清商 焚香 墨香 微凉 断肠 痴狂 凄凉 黄梁 未央 成双 无恙 虚妄 凝霜 洛阳 长安 江南 忘川 千年 纸伞 烟雨 回眸 公子 红尘 红颜 红衣 红豆 红线 青丝 青史 青冢 白首 白骨 黄土 黄泉 碧落 紫陌 浅唱 寂灭 无声 邂逅 流年 落寂 叙述 唯爱 晨曦 回忆 错落 迷茫 恬静 默诺 余音 情殇 背殇 落幕 黯然 拾忆 独寂 透彻 水影 浅陌 无垠 似水 流年 深音 铭记 迷遇 暖光 蘩藜 尘宵 磬音 黯伤 醉生 沉静 寂冷 白发".split(" ");

var four_chars_words = "情深缘浅 情深不寿 莫失莫忘 阴阳相隔 如花美眷 似水流年 眉目如画 曲终人散 繁华落尽 不诉离殇 一世长安 半世烟尘 落梅似雪 冷月花魂 平湖秋月 蝶恋忆回 秋水伊人 断桥残雪 风动铃心 伊人已逝 望断秋水 似水流年 如花美眷 落晚芳菲 沧山映水 上善若水 匠心独运 倾国倾城 天香国色 浑然一体 如梦如幻 风华绝代 繁华落尽 寂寞如烟 独坐如莲 清风有情 明月可鉴 落花有情 流水可懂 流星有情 星空可睹 红颜有梦 陌上花开 弦断花落 似水流年 物是人非 昔云楚楚 紫燕悠悠 在水一方 雪殇若兮 燕笑语兮 清风扶柳 夕颜若雪 笑若扶风 凭兰秋思 素兮饶眉 雨夜聆风 月舞神殇 似水流年 此去经年 烟雨平生 宛如红袖 飞泉鸣玉 曾经沧海 谁堪共语 古道西风 流荆默望 往事如烟 静水流深 相濡以沫 笑靥如花 花开堪折 浮生若梦 情非得已 思绪万千 豆寇年华 地老天荒 曲终人散 沧海桑田 柒指流年 灯火阑珊 与子偕老 过眼云烟 生如夏花 尘埃落定 彼岸流年 莫矢莫忘".split(" ");
var sentence_model = "xx，xx，xx了xx。 xxxx，xxxx，不过是一场xxxx。 你说xxxx，我说xxxx，最后不过xxxx。 xx，xx，许我一场xxxx。 一x一x一xx，半x半x半xx。 你说xxxxxxxx，后来xxxxxxxx。 xxxx，xxxx，终不敌xxxx。 xx，xxxx，xx，xxxx。 用我xxxx，换你xxxx。".split(" ");

// random number
function getR(num) {
    return Math.round(Math.random() * num);
}

// generator sentence
function getS() {
    var len1 = sentence_model.length;
    var len2 = two_chars_words.length;
    var len3 = four_chars_words.length;
    var model = sentence_model[getR(len1 - 1)];
    var x = 0;
    while(model.indexOf("xxxx") != -1) {
        model = replaceS(model, four_chars_words[getR(len3 - 1)]);
    }
    while(model.indexOf("xx") != -1) {
        model = replaceS(model, two_chars_words[getR(len2 - 1)]);
    }
    while(model.indexOf("x") != -1) {
        var one_chars_words = two_chars_words[getR(len2 - 1)].charAt(getR(1));
        model = replaceS(model, one_chars_words);
    }
    return model;
}

function replaceS(model, term) {
    var m = model.split(""); // string -&gt; array
    var t = term.split("");
    var x = 0;
    for (var i = 0; i &lt; m.length; i++) {
        if(m[i] == "x") {
            x++;
        } else {
            x = 0;
        }
        if(x == t.length) {
            for(var j = 0; j &lt; t.length; j++) {
                m[i - j] = t[t.length - 1 - j];
            }
            break;
        }
    }
    return m.join(""); //array -&gt; string
}

function addS() {
    var $s = $("#sentence");
    $s.html($s.html() + "&lt;p&gt;" + getS() + "&lt;\p&gt;");
    var h = $(document).height()-$(window).height();
    $(document).scrollTop(h);
}

$(function(){
    setInterval("addS()",1000);
});
</pre></div>
</td></tr></table>
<p>字符串替换自己手写了一下。。不是效率最好的写法，我真是懒得思考了。。。</p>
    </div>
    <div id="content-comments">
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="/code/esgf.html" data-title="恶俗古风生成器 web 版" data-url="//huiyadanli.github.io/code/esgf.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = { short_name: 'huiyadanli' };
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		//ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.src = '/theme/js/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end --></div>

</div>
<div class="niu2-right-container col-md-2">
    <div id="niu2-sidebar-meta" class="niu2-sidebar">
        <div class="niu2-sidebar-label"><i class="fa fa-calendar"></i>发布时间:</div>
        <div class="niu2-sidebar-value">2016-09-07 23:17</div>
        <div class="niu2-sidebar-label"><i class="fa fa-pencil" style="font-size: 1.05em;"></i>最后修改:</div>
        <div class="niu2-sidebar-value">2016-09-07 23:26</div>
        <div class="niu2-sidebar-label"><i class="fa fa fa-code"></i>分类:</div>
        <div class="niu2-sidebar-value"><a href="//huiyadanli.github.io/code/index.html">代码</a></div>
        <div class="niu2-sidebar-label"><i class="fa fa-tag"></i>标签:</div>
 
            <div class="niu2-sidebar-inter-value niu2-sidebar-tag"><a href="//huiyadanli.github.io/tag/javascript.html">Javascript</a><sup>2</sup></div>
            <div class="niu2-sidebar-inter-value niu2-sidebar-tag"><a href="//huiyadanli.github.io/tag/html.html">HTML</a><sup>2</sup></div>
    </div>

    <div id="niu2-sidebar-toc" class="niu2-sidebar" data-status="closed">
        <div class="niu2-sidebar-label">
            <i id="niu2-sidebar-toc-ctrl" class="fa fa-list"></i>目录
        </div>
        <ol id="niu2-sidebar-toc-list">
            <li><a href="#content-heading">恶俗古风生成器 web 版</a></li>
            
            <li><a href="#content-comments">评论</a></li>
        </ol>
    </div>
</div>
    </div>

    <div id="body-footer" class="col-md-6 col-md-offset-2">
<div class="niu2-footer">
    <hr/>
	<p>
		Powered by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>, 
        <a href="https://github.com/mawenbao/niu-x2-sidebar" target="_blank">Theme</a>
		by <a href="//blog.atime.me" target="_blank">Ma Wenbao</a>, Made with <!-- <span class="footer-heart" style="color: #E94F06; font-size: 18px;">♥</span> --><i id="footer-heart" class="fa fa-heart"></i> by 
		<a href="//huiyadanli.github.io">huiyadanli</a>.
	</p>
	<p>
		©
				2015-2016
		<a class="niu2-footer-link" href="//huiyadanli.github.io">huiyadanli</a>
        / 			<a class="niu2-footer-link" href="/about.html" title="about me">关于</a>
        / 			<a class="niu2-footer-link" href="/agreement.html" title="terms, license and privacy etc.">使用协议</a>
    </p>
    <p class="niu2-icons">
	        <a class="niu2-footer-icon" href="mailto: huiyadanli@126.com" title="my email address" target="_blank">
	            <i class="fa fa fa-envelope-o fa-lg"></i>
	        </a>
	        <a class="niu2-footer-icon" href="https://github.com/huiyadanli" title="my github page" target="_blank">
	            <i class="fa fa fa-github-alt fa-lg"></i>
	        </a>
	        <a class="niu2-footer-icon" href="/feed.xml" title="subscribe my blog" target="_blank">
	            <i class="fa fa fa-rss fa-lg"></i>
	        </a>
	</p>
</div>    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80358493-1', 'auto');
  ga('send', 'pageview');

</script>    
    <div id="niu2-pygments" data-theme="monokai-hui"></div>
    
    <canvas id="bg-hui"></canvas>

    <script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.bootcss.com/headroom/0.9.3/headroom.min.js"></script>
    <script type="text/javascript" src="/theme/js/hui.js"></script>

    <script type="text/javascript">

    </script>
    <script type="text/javascript">onContentLoaded();</script>
  </body>
</html>